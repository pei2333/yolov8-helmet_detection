# LW-YOLOv8 简单使用说明

## 🚀 一键开始（推荐）

如果您的数据集已经放在正确位置，可以直接运行：

```bash
# 完整流程：训练LW-YOLOv8 + 基线YOLOv8 + 对比分析
python run_all.py

# 快速测试（10个epochs）
python run_all.py --quick --epochs 10

# 仅训练LW-YOLOv8（不训练对比基线）
python run_all.py --lw-only
```

## 📁 数据集要求

确保您的数据集放在以下位置：
```
ultralytics/datasets/
├── dataset.yaml          # 已配置好
└── safety_helmet/
    ├── train/
    │   ├── images/       # 训练图像
    │   └── labels/       # 训练标签
    ├── val/
    │   ├── images/       # 验证图像
    │   └── labels/       # 验证标签
    └── test/             # 可选
        ├── images/
        └── labels/
```

## 🏃‍♂️ 分步运行

### 1. 训练模型
```bash
# 训练LW-YOLOv8（所有路径已配置好）
python train_lw_yolov8.py

# 自定义参数
python train_lw_yolov8.py --epochs 200 --batch 32
```

### 2. 推理测试
```bash
# 批量推理验证集
python inference_lw_yolov8.py

# 推理单张图像
python inference_lw_yolov8.py --source /path/to/image.jpg --show
```

### 3. 模型评估
```bash
# 评估模型性能
python inference_lw_yolov8.py --evaluate
```

### 4. 模型对比（需要先训练基线）
```bash
# 训练基线YOLOv8
python -c "
from ultralytics import YOLO
model = YOLO('yolov8s.pt')
model.train(
    data='Documents/ultralytics/datasets/dataset.yaml',
    epochs=300,
    project='Documents/ultralytics/runs/train',
    name='yolov8-baseline'
)
"

# 对比分析
python inference_lw_yolov8.py --compare
```

## 📊 查看结果

训练和推理结果会保存在：
- **训练结果**: `Documents/ultralytics/runs/train/`
- **推理结果**: `Documents/ultralytics/runs/detect/`
- **对比报告**: `Documents/ultralytics/runs/compare/`

## ⚡ 常用命令

```bash
# 最简单的开始
python run_all.py --quick

# 仅训练（不对比）
python train_lw_yolov8.py

# 仅推理测试
python inference_lw_yolov8.py

# 快速验证环境
python quick_start.py --epochs 5 --skip-baseline
```

## 🔧 权重文件位置

- **预训练权重**: `yolov8s.pt` （首次运行自动下载）
- **LW-YOLOv8权重**: `Documents/ultralytics/runs/train/lw-yolov8/weights/best.pt`
- **基线权重**: `Documents/ultralytics/runs/train/yolov8-baseline/weights/best.pt`

## 💡 小提示

1. **首次运行**: 会自动下载YOLOv8s预训练权重
2. **快速测试**: 使用`--quick`参数减少训练时间
3. **GPU加速**: 确保CUDA可用以获得最佳性能
4. **路径配置**: 所有默认路径已配置，可直接运行
5. **结果查看**: 训练完成后查看`runs/`目录下的结果

需要帮助请参考 `README_LW_YOLOv8.md` 获取详细文档！ 